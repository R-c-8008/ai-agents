<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Security Monitor Agent</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      background: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }
    :root {
      --bg: #f4f5fa;
      --text: #222;
      --card: #fff;
      --primary: #2979ff;
    }
    [data-theme="dark"] {
      --bg: #181b20;
      --text: #eee;
      --card: #23262c;
      --primary: #90caf9;
    }
    header {
      background: var(--primary);
      color: #fff;
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .theme-toggle {
      background: none;
      border: none;
      color: inherit;
      font-size: 1.1rem;
      cursor: pointer;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.5rem;
      margin-top: 1rem;
    }
    .card {
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,.09);
      padding: 1.2rem;
    }
    .card h2 { margin-top: 0; }
    .zone-list {
      list-style: none;
      padding: 0;
    }
    .zone-list li {
      padding: 0.4rem 0;
      border-bottom: 1px solid #eee;
    }
    .alert {
      padding: 0.4rem 0.4rem 0.4rem 1rem;
      margin-bottom: 0.4rem;
      border-radius: 8px;
      background: #fdecea;
      color: #c62828;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
    }
    .history {
      font-size: 0.98rem;
      overflow-y: auto;
      max-height: 180px;
    }
    .camera {
      background: #dde3ef;
      border-radius: 8px;
      height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #2b3a4a;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .emergency-btn {
      background: var(--primary);
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 0.7rem 1.3rem;
      font-size: 1rem;
      margin-right: 0.5rem;
      cursor: pointer;
      margin-top: 5px;
      transition: background 0.2s;
    }
    .emergency-btn:hover {
      background: #004cff;
    }
    .settings label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    .settings input, .settings select {
      padding: 0.4rem;
      margin-bottom: 0.8rem;
      width: 100%;
      border-radius: 4px;
      border: 1px solid #bbb;
      background: var(--bg);
      color: var(--text);
    }
    @media (max-width: 700px) {
      header, .container { padding: 0.6rem; }
      .grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
<header>
  <span style="font-size:1.4rem;font-weight:700;">üîí Security Monitor Agent</span>
  <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">üåô/‚òÄÔ∏è</button>
</header>
<div class="container">
  <div class="grid">
    <div class="card">
      <h2>Monitoring Zones</h2>
      <ul class="zone-list" id="zoneList">
        <li>Front Door</li>
        <li>Garage</li>
        <li>Backyard</li>
        <li>Main Hall</li>
        <li>Warehouse</li>
      </ul>
    </div>
    <div class="card">
      <h2>Real-time Threat Alerts</h2>
      <div id="alerts">
        <!-- Alerts injected by JS -->
      </div>
    </div>
    <div class="card">
      <h2>Emergency Contacts</h2>
      <form id="contactsForm">
        <label for="contactName">Contact Name</label>
        <input type="text" id="contactName" required>
        <label for="contactPhone">Phone Number</label>
        <input type="tel" id="contactPhone" required>
        <button type="submit" class="emergency-btn">Save Contact</button>
      </form>
      <ul id="contactsList"></ul>
    </div>
    <div class="card">
      <h2>Manual Emergency Call</h2>
      <button class="emergency-btn" onclick="manualCall('Police')">Call Police üöì</button>
      <button class="emergency-btn" onclick="manualCall('Fire Dept')">Call Fire Dept üöí</button>
      <button class="emergency-btn" onclick="manualCall('Medical')">Call Medical üöë</button>
    </div>
    <div class="card">
      <h2>Alert History</h2>
      <div class="history" id="alertHistory"></div>
    </div>
    <div class="card">
      <h2>Camera Feeds</h2>
      <div class="camera">Front Door [offline]</div>
      <div class="camera">Garage [offline]</div>
      <div class="camera">Backyard [offline]</div>
      <div class="camera">Main Hall [offline]</div>
      <div class="camera">Warehouse [offline]</div>
    </div>
    <div class="card settings">
      <h2>Settings</h2>
      <label>Notification Sound
        <select id="sound">
          <option>Chime</option>
          <option>Siren</option>
          <option>None</option>
        </select>
      </label>
      <label>Zone Management
        <input type="text" id="newZone" placeholder="Add new zone">
        <button class="emergency-btn" type="button" onclick="addZone()">Add Zone</button>
      </label>
      <label>Theme
        <select id="themeSelect" onchange="selectTheme()">
          <option value="light">Light</option>
          <option value="dark">Dark</option>
        </select>
      </label>
    </div>
  </div>
</div>
<script>
// Theme toggle logic
function toggleTheme() {
  const html = document.documentElement;
  if (!html.hasAttribute('data-theme') || html.getAttribute('data-theme') === 'light') {
    html.setAttribute('data-theme', 'dark');
    document.getElementById('themeSelect').value = 'dark';
  } else {
    html.setAttribute('data-theme', 'light');
    document.getElementById('themeSelect').value = 'light';
  }
}
function selectTheme() {
  document.documentElement.setAttribute('data-theme', document.getElementById('themeSelect').value);
}
// Real-time threat alerts simulation
const alerts = [
  { zone: 'Backyard', level: 'High', desc: 'Movement detected at 02:12 PM.' },
  { zone: 'Main Hall', level: 'Medium', desc: 'Unusual sound detected.' }
];
function renderAlerts() {
  const el = document.getElementById('alerts');
  el.innerHTML = '';
  alerts.forEach((a, i) => {
    el.innerHTML += `<div class="alert">${a.level} Threat: ${a.zone}<span>${a.desc}</span></div>`;
  });
}
renderAlerts();
// Alert History
let alertHistory = [];
function addToHistory(entry) {
  alertHistory.unshift(entry);
  if (alertHistory.length > 20) alertHistory.length = 20;
  document.getElementById('alertHistory').innerHTML = alertHistory.map(x => `<div>${x}</div>`).join('');
}
alerts.forEach(a => addToHistory(`${a.level} Alert in ${a.zone} | ${a.desc}`));
// Manual Call Simulation
function manualCall(service) {
  addToHistory(`Emergency call made to ${service} at ${new Date().toLocaleTimeString()}`);
  alert(`Calling ${service}...`);
}
// Emergency Contacts
let contacts = [];
document.getElementById('contactsForm').onsubmit = function(e) {
  e.preventDefault();
  const name = document.getElementById('contactName').value.trim();
  const phone = document.getElementById('contactPhone').value.trim();
  if (name && phone) {
    contacts.push({name, phone});
    renderContacts();
    this.reset();
  }
};
function renderContacts() {
  document.getElementById('contactsList').innerHTML = contacts.map(c => `<li>${c.name} (${c.phone})</li>`).join('');
}
// Zone Management
function addZone() {
  const z = document.getElementById('newZone').value.trim();
  if (z) {
    const ul = document.getElementById('zoneList');
    const li = document.createElement('li');
    li.textContent = z;
    ul.appendChild(li);
    document.getElementById('newZone').value = '';
  }
}
// Theme select init
window.onload = function() {
  document.getElementById('themeSelect').value = document.documentElement.getAttribute('data-theme') || 'light';
};
</script>
</body>
</html>
